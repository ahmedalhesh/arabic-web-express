# ุฏููู ุงุณุชุฎุฏุงู API ููุชุญูู ูู ุงูุชุฑุงุฎูุต

## ูุธุฑุฉ ุนุงูุฉ

ุงููุธุงู ูุนูู ุจุขููุฉ ุจุณูุทุฉ ุฌุฏุงู:
1. **ุงููุณุคูู** ูููุดุฆ ุชุฑุฎูุต ุจุฅุฏุฎุงู: ุงูุณูุฑูุงู + ุงุณู ุงูุจุฑูุงูุฌ + ุงูุญุงูุฉ
2. **ุงููุณุชุฎุฏู** ูุญุตู ุนูู ุงูุณูุฑูุงู ููุท
3. ุนูุฏ **ุงูุชูุนูู**ุ ุงูุจุฑูุงูุฌ ูุฑุณู ุงูุณูุฑูุงู + ูุนุฑู ุงูุฌูุงุฒ
4. **API ููุฑุฌุน** ุฌููุน ุงููุนูููุงุช ุชููุงุฆูุงู (ุงุณู ุงูุจุฑูุงูุฌุ ุงูุญุงูุฉุ ุฅูุฎ)

---

## Endpoint: ุงูุชุญูู ูู ุงูุชุฑุฎูุต

### ูุนูููุงุช ุนุงูุฉ
- **URL**: `GET /api/check`
- **ููุน ุงูุทูุจ**: Public (ูุง ูุญุชุงุฌ ูุตุงุฏูุฉ)
- **ุงูุงุณุชุฎุฏุงู**: ููุชุญูู ูู ุตูุงุญูุฉ ุงูุชุฑุฎูุต ูุชูุนููู ุชููุงุฆูุงู

### ุงููุนุงููุงุช (Query Parameters)

| ุงููุนุงูู | ุงูููุน | ูุทููุจ | ุงููุตู |
|---------|------|-------|-------|
| `serial` | string | โ ูุนู | ุฑูู ุงูุณูุฑูุงู (ูุซุงู: `ABCD-1234-EFGH-5678`) |
| `device` | string | โ๏ธ ุงุฎุชูุงุฑู | ูุนุฑู ุงูุฌูุงุฒ - ุฅุฐุง ูู ููุฑุณูุ ูู ูุชู ุงูุชูุนูู ุงูุชููุงุฆู |

---

## ุฃูุซูุฉ ุงูุงุณุชุฌุงุจุฉ

### 1๏ธโฃ ุชุฑุฎูุต ุฌุฏูุฏ - ุฃูู ุชูุนูู

**ุงูุทูุจ:**
```bash
GET /api/check?serial=ABC123&device=DEVICE-001
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "found": true,
  "valid": true,
  "status": "ุตุงูุญ",
  "active": true,
  "serial_number": "ABC123",
  "program_name": "ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ",
  "device_id": "DEVICE-001",
  "activation_date": "2025-10-22"
}
```

**ููุงุญุธุงุช:**
- โ ุชู ุชูุนูู ุงูุชุฑุฎูุต ุชููุงุฆูุงู
- โ ุชู ุฑุจุทู ุจุงูุฌูุงุฒ DEVICE-001
- โ ุชู ุชุณุฌูู ุชุงุฑูุฎ ุงูุชูุนูู

---

### 2๏ธโฃ ุชุฑุฎูุต ููุนูู ูุณุจูุงู - ููุณ ุงูุฌูุงุฒ

**ุงูุทูุจ:**
```bash
GET /api/check?serial=ABC123&device=DEVICE-001
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "found": true,
  "valid": true,
  "status": "ุตุงูุญ",
  "active": true,
  "serial_number": "ABC123",
  "program_name": "ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ",
  "device_id": "DEVICE-001",
  "activation_date": "2025-10-22"
}
```

**ููุงุญุธุงุช:**
- โ ุงูุชุฑุฎูุต ุตุงูุญ
- โ ููุณ ุงูุฌูุงุฒ ุงูููุนูู ุนููู

---

### 3๏ธโฃ ุชุฑุฎูุต ููุนูู ุนูู ุฌูุงุฒ ุขุฎุฑ

**ุงูุทูุจ:**
```bash
GET /api/check?serial=ABC123&device=DEVICE-002
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "found": true,
  "valid": false,
  "status": "ุงูุฌูุงุฒ ุบูุฑ ูุทุงุจู",
  "serial_number": "ABC123",
  "program_name": "ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ",
  "device_id": "DEVICE-001"
}
```

**ููุงุญุธุงุช:**
- โ ุงูุชุฑุฎูุต ููุฌูุฏ ูููู ููุนูู ุนูู ุฌูุงุฒ ุขุฎุฑ
- โ๏ธ ูุง ูููู ุงุณุชุฎุฏุงูู ุนูู DEVICE-002

---

### 4๏ธโฃ ุชุฑุฎูุต ุบูุฑ ููุฌูุฏ

**ุงูุทูุจ:**
```bash
GET /api/check?serial=INVALID123&device=DEVICE-001
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "found": false,
  "valid": false,
  "status": "ุบูุฑ ููุฌูุฏ ุฃู ุบูุฑ ุตุงูุญ"
}
```

---

### 5๏ธโฃ ุชุฑุฎูุต ููุชูู ุฃู ููููู

**ุงูุทูุจ:**
```bash
GET /api/check?serial=XYZ789&device=DEVICE-001
```

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "found": true,
  "valid": false,
  "status": "ููุชูู",
  "active": false,
  "serial_number": "XYZ789",
  "program_name": "ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ"
}
```

**ููุงุญุธุงุช:**
- โ๏ธ ุงูุชุฑุฎูุต ููุฌูุฏ ูููู ููุชูู/ููููู
- โ ูู ูุชู ุงูุชูุนูู ุงูุชููุงุฆู

---

## ุญุงูุงุช ุงูุชุฑุฎูุต ุงูููููุฉ

| ุงูุญุงูุฉ | ุงููุตู | ูููู ุงูุชูุนููุ |
|--------|-------|---------------|
| `ุตุงูุญ` | ุชุฑุฎูุต ุตุงูุญ ููููู ุงุณุชุฎุฏุงูู | โ ูุนู |
| `ููุชูู` | ุงูุชูุช ุตูุงุญูุฉ ุงูุชุฑุฎูุต | โ ูุง |
| `ููููู` | ุชู ุฅููุงู ุงูุชุฑุฎูุต ูู ุงููุณุคูู | โ ูุง |
| `ุบูุฑ ููุนูู` | ุชุฑุฎูุต ุฌุฏูุฏ ูู ูููุนูู ุจุนุฏ | โ ูุนู (ุฅุฐุง ูุงูุช ุงูุญุงูุฉ ุตุงูุญ) |

---

## ูุซุงู ูุงูู ุจู Python

```python
import requests
import hashlib
import platform

def get_device_id():
    """ุงูุญุตูู ุนูู ูุนุฑู ูุฑูุฏ ููุฌูุงุฒ"""
    device_info = f"{platform.node()}-{platform.system()}"
    return hashlib.md5(device_info.encode()).hexdigest()

def verify_license(serial, api_url="http://localhost:5000"):
    """ุงูุชุญูู ูู ุงูุชุฑุฎูุต"""
    device_id = get_device_id()
    
    response = requests.get(
        f"{api_url}/api/check",
        params={"serial": serial, "device": device_id}
    )
    
    data = response.json()
    
    if data.get("found") and data.get("valid"):
        print(f"โ ุงูุชุฑุฎูุต ุตุงูุญ!")
        print(f"๐ฆ ุงูุจุฑูุงูุฌ: {data.get('program_name')}")
        print(f"๐ ุชู ุงูุชูุนูู: {data.get('activation_date')}")
        return True
    else:
        print(f"โ ุงูุชุฑุฎูุต ุบูุฑ ุตุงูุญ: {data.get('status')}")
        return False

# ุงูุงุณุชุฎุฏุงู
if __name__ == "__main__":
    serial = input("ุฃุฏุฎู ุฑูู ุงูุณูุฑูุงู: ")
    verify_license(serial)
```

---

## ูุซุงู ูุงูู ุจู JavaScript/Node.js

```javascript
const axios = require('axios');
const crypto = require('crypto');
const os = require('os');

function getDeviceId() {
    const deviceInfo = `${os.hostname()}-${os.platform()}`;
    return crypto.createHash('md5').update(deviceInfo).digest('hex');
}

async function verifyLicense(serial, apiUrl = 'http://localhost:5000') {
    try {
        const deviceId = getDeviceId();
        
        const response = await axios.get(`${apiUrl}/api/check`, {
            params: {
                serial: serial,
                device: deviceId
            }
        });
        
        const data = response.data;
        
        if (data.found && data.valid) {
            console.log('โ ุงูุชุฑุฎูุต ุตุงูุญ!');
            console.log(`๐ฆ ุงูุจุฑูุงูุฌ: ${data.program_name}`);
            console.log(`๐ ุชู ุงูุชูุนูู: ${data.activation_date}`);
            return true;
        } else {
            console.log(`โ ุงูุชุฑุฎูุต ุบูุฑ ุตุงูุญ: ${data.status}`);
            return false;
        }
    } catch (error) {
        console.error('ุฎุทุฃ ูู ุงูุงุชุตุงู:', error.message);
        return false;
    }
}

// ุงูุงุณุชุฎุฏุงู
verifyLicense('ABC123');
```

---

## ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูุนูู ุงูุชููุงุฆู**: ูุญุฏุซ ููุท ุนูุฏูุง:
   - ุงูุชุฑุฎูุต ููุณ ูู `device_id` ุจุนุฏ (ูู ูููุนูู ูู ูุจู)
   - ุงูุญุงูุฉ "ุตุงูุญ"
   - ุชู ุฅุฑุณุงู `device` ูู ุงูุทูุจ

2. **ุฑุจุท ุงูุฌูุงุฒ**: 
   - ุจูุฌุฑุฏ ุงูุชูุนูู ุนูู ุฌูุงุฒุ ูุชู ุฑุจุท ุงูุชุฑุฎูุต ุจู device_id
   - **ูุง ูููู ุงุณุชุฎุฏุงู ุงูุชุฑุฎูุต ุนูู ุฌูุงุฒ ุขุฎุฑ** ุฅูุง ุฅุฐุง ูุงู ุงููุณุคูู ุจุฅุนุงุฏุฉ ุชุนููู ุงูุชูุนูู
   - ุญุชู ูู ุบููุฑ ุงููุณุคูู ุงูุญุงูุฉุ ูุจูู ุงูุชุฑุฎูุต ูุฑุชุจุทุงู ุจุงูุฌูุงุฒ ุงูุฃุตูู

3. **ุงููุนูููุงุช ุงูููุฑุฌุนุฉ**: API ููุฑุฌุน **ุฌููุน** ูุนูููุงุช ุงูุชุฑุฎูุต ุชููุงุฆูุงู:
   - ุงุณู ุงูุจุฑูุงูุฌ
   - ุงูุญุงูุฉ
   - ุชุงุฑูุฎ ุงูุชูุนูู
   - ุฑูู ุงูุฌูุงุฒ
   - ุญุงูุฉ ุงูุตูุงุญูุฉ

4. **ุฅุนุงุฏุฉ ุชุนููู ุงูุชูุนูู**:
   - ุงููุณุคูู ููููู ุฅุนุงุฏุฉ ุชุนููู ุงูุชูุนูู ูู ููุญุฉ ุงูุชุญูู
   - ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุนูููุ ูููู ุชูุนูู ุงูุชุฑุฎูุต ุนูู ุฌูุงุฒ ุฌุฏูุฏ
   - Endpoint: `POST /api/licenses/:serial/reset` (ูุญุชุงุฌ ูุตุงุฏูุฉ)

5. **ุงูุฃูุงู**: 
   - ุงูู Endpoint `/api/check` ุนุงู (ูุง ูุญุชุงุฌ ูุตุงุฏูุฉ)
   - ูุฎุตุต ููุท ููุชุญูู ูู ุงูุชุฑุงุฎูุต
   - ูุง ูุณูุญ ุจุชุนุฏูู ุฃู ุญุฐู
   - ุงูุชุญูู ูู device_id ุตุงุฑู - ูุง ูููู ุชุฌุงูุฒู

---

## ุงููุฑู ุจูู valid ู status

- **`valid`**: `true/false` - ูู ุงูุชุฑุฎูุต ูุนูู ุงูุขูุ
  - ูููู `true` ููุท ุฅุฐุง: `active: true` **ู** `status: "ุตุงูุญ"`
  
- **`status`**: ุงููุต ุงูุนุฑุจู ููุญุงูุฉ
  - "ุตุงูุญ" / "ููุชูู" / "ููููู" / "ุบูุฑ ููุนูู" / "ุงูุฌูุงุฒ ุบูุฑ ูุทุงุจู"

---

## ุชุฏูู ุงูุนูู ุงููุงูู

```
1. ุงููุณุคูู ูููุดุฆ ุชุฑุฎูุต:
   โโ ุงูุณูุฑูุงู: ABC-1234-XYZ
   โโ ุงุณู ุงูุจุฑูุงูุฌ: ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ
   โโ ุงูุญุงูุฉ: ุตุงูุญ
   โโ ุงูููุงุญุธุงุช: ุชุฑุฎูุต ููุนููู ุฃุญูุฏ

2. ุงููุณุชุฎุฏู ูุญุตู ุนูู ุงูุณูุฑูุงู ููุท:
   โโ ABC-1234-XYZ

3. ุงูุจุฑูุงูุฌ ูุชุตู ุจู API:
   GET /api/check?serial=ABC-1234-XYZ&device=DEVICE-001

4. API ููุฑุฌุน ูู ุงููุนูููุงุช:
   {
     "program_name": "ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ",  โ ุชููุงุฆู
     "status": "ุตุงูุญ",                     โ ุชููุงุฆู
     "valid": true,                        โ ุชููุงุฆู
     "active": true,                       โ ุชู ุงูุชูุนูู ุชููุงุฆูุงู
     "device_id": "DEVICE-001",            โ ุชู ุงูุชุณุฌูู ุชููุงุฆูุงู
     "activation_date": "2025-10-22"       โ ุชู ุงูุชุณุฌูู ุชููุงุฆูุงู
   }

5. ุงูุจุฑูุงูุฌ ูุนูู ููุนุฑุถ:
   "ูุฑุญุจุงู! ุฃูุช ุชุณุชุฎุฏู: ุจุฑูุงูุฌ ุงููุญุงุณุจุฉ"
```
